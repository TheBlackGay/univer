{
  "version": 3,
  "sources": ["../../../packages/network/src/services/http/headers.ts", "../../../packages/network/src/services/http/implementations/implementation.ts", "../../../packages/network/src/services/http/params.ts", "../../../packages/network/src/services/http/request.ts", "../../../packages/network/src/services/http/http.service.ts", "../../../packages/network/src/services/http/http.ts", "../../../packages/network/src/services/http/response.ts", "../../../packages/network/src/services/http/implementations/util.ts", "../../../packages/network/src/services/http/implementations/fetch.ts", "../../../packages/network/src/services/http/implementations/xhr.ts", "../../../packages/network/src/plugin.ts", "../../../packages/network/src/services/web-socket/web-socket.service.ts", "../../src/sheets/button.tsx", "../../../node_modules/.pnpm/@univerjs+icons@0.2.20_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@univerjs/icons/src/icon.tsx", "../../../node_modules/.pnpm/@univerjs+icons@0.2.20_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@univerjs/icons/src/components/ai-single.tsx", "../../../node_modules/.pnpm/@univerjs+icons@0.2.20_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@univerjs/icons/src/components/bar-chart-single.tsx", "../../../node_modules/.pnpm/@univerjs+icons@0.2.20_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@univerjs/icons/src/components/comment-single.tsx", "../../src/sheets/custom-menu/commands/operations/dropdown-list.operation.ts", "../../src/sheets/custom-menu/commands/operations/single-button.operation.ts", "../../src/sheets/custom-menu/controllers/menu/dropdown-list.menu.ts", "../../src/sheets/custom-menu/controllers/menu/single-button.menu.ts", "../../src/sheets/custom-menu/controllers/custom-menu.controller.ts", "../../src/sheets/custom-menu/locale/en-US.ts", "../../src/sheets/custom-menu/locale/zh-CN.ts", "../../src/sheets/custom-menu/plugin.ts", "../../src/sheets/save-toolbar.tsx", "../../src/services/save-service.ts", "../../src/sheets/save-toolbar-plugin.ts", "../../src/services/save-plugin.ts", "../../../packages/sheets-formula-ui/src/facade/f-univer.ts", "../../../packages/network/src/facade/f-network.ts", "../../../packages/network/src/facade/f-univer.ts", "../../src/sheets/main.ts"],
  "sourcesContent": ["/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ninterface IHeadersConstructorProps {\n    [key: string]: string | number | boolean;\n}\n\n// Header keys in `HTTPHeaders` should be in lower case.\nexport const ApplicationJSONType = 'application/json';\n\n/**\n * It wraps headers of HTTP requests' and responses' headers.\n */\nexport class HTTPHeaders {\n    private readonly _headers: Map<string, string[]> = new Map();\n\n    constructor(headers?: IHeadersConstructorProps | Headers | string) {\n        if (typeof headers === 'string') {\n            this._handleHeadersString(headers);\n        } else if (headers instanceof Headers) {\n            this._handleHeaders(headers);\n        } else if (headers) {\n            this._handleHeadersConstructorProps(headers);\n        }\n    }\n\n    forEach(callback: (name: string, value: string[]) => void): void {\n        this._headers.forEach((v, key) => callback(key, v));\n    }\n\n    has(key: string): boolean {\n        return !!this._headers.has(key.toLowerCase());\n    }\n\n    get(key: string): string[] | null {\n        const k = key.toLowerCase();\n        return this._headers.has(k) ? this._headers.get(k)! : null;\n    }\n\n    set(key: string, value: string | number | boolean): void {\n        this._setHeader(key, value);\n    }\n\n    toHeadersInit(): HeadersInit {\n        const headers: HeadersInit = {};\n        this._headers.forEach((values, key) => {\n            headers[key] = values.join(',');\n        });\n\n        headers.accept ??= 'application/json, text/plain, */*';\n        headers['content-type'] ??= 'application/json;charset=UTF-8';\n\n        return headers;\n    }\n\n    private _setHeader(name: string, value: string | number | boolean): void {\n        const lowerCase = name.toLowerCase();\n        if (this._headers.has(lowerCase)) {\n            this._headers.get(lowerCase)!.push(value.toString());\n        } else {\n            this._headers.set(lowerCase, [value.toString()]);\n        }\n    }\n\n    private _handleHeadersString(headers: string): void {\n        headers.split('\\n').forEach((header) => {\n            const [name, value] = header.split(':');\n            if (name && value) {\n                this._setHeader(name, value);\n            }\n        });\n    }\n\n    private _handleHeadersConstructorProps(headers: IHeadersConstructorProps): void {\n        Object.entries(headers).forEach(([name, value]) => this._setHeader(name, value));\n    }\n\n    private _handleHeaders(headers: Headers): void {\n        headers.forEach((value, name) => this._setHeader(name, value));\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Observable } from 'rxjs';\nimport type { HTTPRequest } from '../request';\nimport type { HTTPEvent } from '../response';\nimport { createIdentifier } from '@univerjs/core';\n\n/**\n * HTTP service could be implemented differently on platforms.\n */\nexport interface IHTTPImplementation {\n    /**\n     * Send a request. The result would be returned in an observable for possible stream response.\n     * @param request the request to be sent\n     */\n    // eslint-disable-next-line ts/no-explicit-any\n    send(request: HTTPRequest): Observable<HTTPEvent<any>>;\n}\nexport const IHTTPImplementation = createIdentifier<IHTTPImplementation>('network.http-implementation');\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ntype ValidParamType = string | number | boolean;\n\nexport class HTTPParams {\n    constructor(readonly params?: { [key: string]: ValidParamType | ValidParamType[] }) {\n        // empty\n    }\n\n    toString(): string {\n        if (!this.params) {\n            return '';\n        }\n\n        return Object.keys(this.params)\n            .map((key) => {\n                const value = this.params![key];\n                if (Array.isArray(value)) {\n                    return value\n                        .map((v) => `${key}=${v}`)\n                        .join('&');\n                }\n\n                return `${key}=${value}`;\n            })\n            .join('&');\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { HTTPHeaders } from './headers';\nimport type { HTTPResponseType } from './http';\nimport type { HTTPParams } from './params';\nimport { ApplicationJSONType } from './headers';\n\nexport type HTTPRequestMethod = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n\n/**\n * @internal\n */\nexport interface IHTTPRequestParams {\n    // eslint-disable-next-line ts/no-explicit-any\n    body?: any;\n    headers: HTTPHeaders;\n    params?: HTTPParams;\n    responseType: HTTPResponseType;\n    withCredentials: boolean;\n    reportProgress?: boolean;\n}\n\nlet HTTPRequestUID = 0;\n\nexport function __TEST_ONLY_RESET_REQUEST_UID_DO_NOT_USE_IN_PRODUCTION() {\n    HTTPRequestUID = 0;\n}\n\nexport class HTTPRequest {\n    get headers(): HTTPHeaders { return this.requestParams!.headers; }\n    get withCredentials(): boolean { return this.requestParams!.withCredentials; }\n    get responseType(): HTTPResponseType { return this.requestParams!.responseType; }\n\n    readonly uid = HTTPRequestUID++;\n\n    constructor(\n        readonly method: HTTPRequestMethod,\n        readonly url: string,\n        readonly requestParams?: IHTTPRequestParams\n    ) { }\n\n    getUrlWithParams(): string {\n        const params = this.requestParams?.params?.toString();\n        if (!params) {\n            return this.url;\n        }\n\n        return `${this.url}${this.url.includes('?') ? '&' : '?'}${params}`;\n    }\n\n    getBody(): string | null {\n        const contentType = this.headers.get('Content-Type') ?? ApplicationJSONType;\n        const body = this.requestParams?.body;\n        if (contentType === ApplicationJSONType && body && typeof body === 'object') {\n            return JSON.stringify(body);\n        }\n\n        return body ? `${body}` : null;\n    }\n\n    getHeadersInit(): HeadersInit {\n        const headersInit = this.headers.toHeadersInit();\n        return headersInit;\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IDisposable, Nullable } from '@univerjs/core';\nimport type { Observable } from 'rxjs';\nimport type { HTTPResponseType } from './http';\nimport type { HTTPHandlerFn, HTTPInterceptorFn, RequestPipe } from './interceptor';\nimport type { HTTPRequestMethod } from './request';\nimport type { HTTPEvent } from './response';\nimport { Disposable, remove, toDisposable } from '@univerjs/core';\nimport { firstValueFrom, of } from 'rxjs';\nimport { concatMap } from 'rxjs/operators';\nimport { HTTPHeaders } from './headers';\nimport { IHTTPImplementation } from './implementations/implementation';\nimport { HTTPParams } from './params';\nimport { HTTPRequest } from './request';\n\nexport interface IRequestParams {\n    /** Query params. These params would be append to the url before the request is sent. */\n    params?: { [param: string]: string | number | boolean };\n\n    /** Query headers. */\n    headers?: { [key: string]: string | number | boolean };\n\n    /** Expected types of the response data. */\n    responseType?: HTTPResponseType;\n\n    withCredentials?: boolean;\n\n    /**\n     * Should report progress.\n     */\n    reportProgress?: boolean;\n}\n\nexport interface IPostRequestParams extends IRequestParams {\n    body?: unknown;\n}\n\n/**\n * Register an HTTP interceptor. Interceptor could modify requests, responses, headers or errors.\n */\nexport interface IHTTPInterceptor {\n    /** The priority of the interceptor. The higher the value, the earlier the interceptor is called. */\n    priority?: number;\n\n    /** The interceptor function. */\n    interceptor: HTTPInterceptorFn;\n}\n\n/**\n * This service provides http request methods and allows to register http interceptors.\n *\n * You can use interceptors to:\n *\n * 1. modify requests (headers included) before they are sent, or modify responses\n * before they are returned to the caller.\n * 2. threshold, logging, caching, etc.\n * 3. authentication, authorization, etc.\n */\nexport class HTTPService extends Disposable {\n    private _interceptors: IHTTPInterceptor[] = [];\n\n    // eslint-disable-next-line ts/no-explicit-any\n    private _pipe: Nullable<RequestPipe<any>>;\n\n    constructor(@IHTTPImplementation private readonly _http: IHTTPImplementation) {\n        super();\n    }\n\n    /**\n     * Register an HTTP interceptor.\n     *\n     * @param interceptor the http interceptor\n     * @returns a disposable handler to remove the interceptor\n     */\n    registerHTTPInterceptor(interceptor: IHTTPInterceptor): IDisposable {\n        if (this._interceptors.indexOf(interceptor) !== -1) {\n            throw new Error('[HTTPService]: The interceptor has already been registered!');\n        }\n\n        this._interceptors.push(interceptor);\n        this._interceptors = this._interceptors.sort((a, b) => (a.priority ?? 0) - (b.priority ?? 0));\n\n        this._pipe = null;\n\n        return toDisposable(() => remove(this._interceptors, interceptor));\n    }\n\n    get<T>(url: string, params?: IRequestParams): Promise<HTTPEvent<T>> {\n        return this._request<T>('GET', url, params);\n    }\n\n    post<T>(url: string, params?: IPostRequestParams): Promise<HTTPEvent<T>> {\n        return this._request<T>('POST', url, params);\n    }\n\n    put<T>(url: string, params?: IPostRequestParams): Promise<HTTPEvent<T>> {\n        return this._request<T>('PUT', url, params);\n    }\n\n    delete<T>(url: string, params?: IRequestParams): Promise<HTTPEvent<T>> {\n        return this._request<T>('DELETE', url, params);\n    }\n\n    patch<T>(url: string, params?: IPostRequestParams): Promise<HTTPEvent<T>> {\n        return this._request<T>('PATCH', url, params);\n    }\n\n    getSSE<T>(\n        method: HTTPRequestMethod,\n        url: string,\n        _params?: IPostRequestParams\n    ): Observable<HTTPEvent<T>> {\n        // Things to do when sending a HTTP request:\n        // 1. Generate HTTPRequest/HTTPHeader object\n        // 2. Call interceptors and finally the HTTP implementation.\n        const headers = new HTTPHeaders(_params?.headers);\n        const params = new HTTPParams(_params?.params);\n        const request = new HTTPRequest(method, url, {\n            headers,\n            params,\n            withCredentials: _params?.withCredentials ?? false,\n            reportProgress: true,\n            responseType: _params?.responseType ?? 'json',\n            body: (['GET', 'DELETE'].includes(method)) ? undefined : (_params as IPostRequestParams)?.body,\n        });\n\n        return of(request).pipe(concatMap((request) => this._runInterceptorsAndImplementation(request)));\n    }\n\n    /** The HTTP request implementations */\n    private async _request<T>(\n        method: HTTPRequestMethod,\n        url: string,\n        options?: IRequestParams\n    ): Promise<HTTPEvent<T>> {\n        // Things to do when sending a HTTP request:\n        // 1. Generate HTTPRequest/HTTPHeader object\n        // 2. Call interceptors and finally the HTTP implementation.\n        const headers = new HTTPHeaders(options?.headers);\n        const params = new HTTPParams(options?.params);\n        const request = new HTTPRequest(method, url, {\n            headers,\n            params,\n            withCredentials: options?.withCredentials ?? false, // default value for withCredentials is false by MDN\n            responseType: options?.responseType ?? 'json',\n            body: (['GET', 'DELETE'].includes(method)) ? undefined : (options as IPostRequestParams)?.body,\n        });\n\n        // eslint-disable-next-line ts/no-explicit-any\n        const events$: Observable<HTTPEvent<any>> = of(request).pipe(\n            concatMap((request) => this._runInterceptorsAndImplementation(request))\n        );\n\n        // The event$ may emit multiple values, but we only care about the first one.\n        // We may need to care about other events (especially progress events) in the future.\n        const result = await firstValueFrom(events$);\n        return result;\n    }\n\n    // eslint-disable-next-line ts/no-explicit-any\n    private _runInterceptorsAndImplementation(request: HTTPRequest): Observable<HTTPEvent<any>> {\n        // In this method we first call all interceptors and finally the HTTP implementation.\n        // And the HTTP response will be passed back through the interceptor chain.\n        if (!this._pipe) {\n            this._pipe = this._interceptors\n                .map((handler) => handler.interceptor)\n                .reduceRight(\n                    (nextHandlerFunction, interceptorFunction: HTTPInterceptorFn) =>\n                        chainInterceptorFn(nextHandlerFunction, interceptorFunction),\n                    (requestFromPrevInterceptor, finalHandler) => finalHandler(requestFromPrevInterceptor)\n                );\n        }\n\n        return this._pipe!(request, (requestToNext) => this._http.send(requestToNext) /* final handler */);\n    }\n}\n\nfunction chainInterceptorFn(afterInterceptorChain: HTTPInterceptorFn, currentInterceptorFn: HTTPInterceptorFn) {\n    return (prevRequest: HTTPRequest, nextHandlerFn: HTTPHandlerFn) =>\n        currentInterceptorFn(prevRequest, (nextRequest) => afterInterceptorChain(nextRequest, nextHandlerFn));\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type HTTPResponseType = 'arraybuffer' | 'blob' | 'json' | 'text';\n\nexport const SuccessStatusCodeLowerBound = 200;\n\nexport const ErrorStatusCodeLowerBound = 300;\n\n/**\n * Http status codes.\n *\n * https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\n */\nexport enum HTTPStatusCode {\n    Continue = 100,\n    SwitchingProtocols = 101,\n    Processing = 102,\n    EarlyHints = 103,\n\n    Ok = 200,\n    Created = 201,\n    Accepted = 202,\n    NonAuthoritativeInformation = 203,\n    NoContent = 204,\n    ResetContent = 205,\n    PartialContent = 206,\n    MultiStatus = 207,\n    AlreadyReported = 208,\n    ImUsed = 226,\n\n    MultipleChoices = 300,\n    MovedPermanently = 301,\n    Found = 302,\n    SeeOther = 303,\n    NotModified = 304,\n    UseProxy = 305,\n    Unused = 306,\n    TemporaryRedirect = 307,\n    PermanentRedirect = 308,\n\n    BadRequest = 400,\n    Unauthorized = 401,\n    PaymentRequired = 402,\n    Forbidden = 403,\n    NotFound = 404,\n    MethodNotAllowed = 405,\n    NotAcceptable = 406,\n    ProxyAuthenticationRequired = 407,\n    RequestTimeout = 408,\n    Conflict = 409,\n    Gone = 410,\n    LengthRequired = 411,\n    PreconditionFailed = 412,\n    PayloadTooLarge = 413,\n    UriTooLong = 414,\n    UnsupportedMediaType = 415,\n    RangeNotSatisfiable = 416,\n    ExpectationFailed = 417,\n    ImATeapot = 418,\n    MisdirectedRequest = 421,\n    UnprocessableEntity = 422,\n    Locked = 423,\n    FailedDependency = 424,\n    TooEarly = 425,\n    UpgradeRequired = 426,\n    PreconditionRequired = 428,\n    TooManyRequests = 429,\n    RequestHeaderFieldsTooLarge = 431,\n    UnavailableForLegalReasons = 451,\n\n    InternalServerError = 500,\n    NotImplemented = 501,\n    BadGateway = 502,\n    ServiceUnavailable = 503,\n    GatewayTimeout = 504,\n    HttpVersionNotSupported = 505,\n    VariantAlsoNegotiates = 506,\n    InsufficientStorage = 507,\n    LoopDetected = 508,\n    NotExtended = 510,\n    NetworkAuthenticationRequired = 511,\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { HTTPHeaders } from './headers';\nimport type { HTTPRequest } from './request';\n\nexport type HTTPEvent<T> = HTTPResponse<T> | HTTPProgress;\nexport enum HTTPEventType {\n    DownloadProgress,\n    Response,\n}\n\ninterface IHTTPEvent {\n    type: HTTPEventType;\n}\n\nexport type HTTPResponseBody = string | ArrayBuffer | Blob | object | null;\n\n/**\n * Wraps success response info.\n */\nexport class HTTPResponse<T> implements IHTTPEvent {\n    readonly type = HTTPEventType.Response;\n\n    readonly body: T;\n    readonly headers: HTTPHeaders;\n    readonly status: number;\n    readonly statusText: string;\n\n    constructor({\n        body,\n        headers,\n        status,\n        statusText,\n    }: {\n        body: T;\n        headers: HTTPHeaders;\n        status: number;\n        statusText: string;\n    }) {\n        this.body = body;\n        this.headers = headers;\n        this.status = status;\n        this.statusText = statusText;\n    }\n}\n\n/**\n * Progress event for HTTP request. Usually used for reporting download/upload progress or SSE streaming.\n */\nexport class HTTPProgress implements IHTTPEvent {\n    readonly type = HTTPEventType.DownloadProgress;\n\n    constructor(\n        /**\n         * Total number of bytes to download. Depending on the request or\n         * response, this may not be computable and thus may not be present.\n         */\n        public readonly total: number | undefined,\n\n        /**\n         * Number of bytes downloaded.\n         */\n        public readonly loaded: number,\n        /**\n         * The partial response body as downloaded so far.\n         *\n         * Only present if the responseType was `text`.\n         */\n        public readonly partialText?: string | undefined\n    ) {\n        // empty\n    }\n}\n\nexport class ResponseHeader {\n    constructor(\n        readonly headers: HTTPHeaders,\n        readonly status: number,\n        readonly statusText: string\n    ) {\n        // empty\n    }\n}\n\n// #region error\n\nexport class HTTPResponseError {\n    readonly request: HTTPRequest;\n    readonly headers?: HTTPHeaders;\n    readonly status?: number;\n    readonly statusText?: string;\n    readonly error: any;\n\n    constructor({\n        request,\n        headers,\n        status,\n        statusText,\n        error,\n    }: {\n        request: HTTPRequest;\n        headers?: HTTPHeaders;\n        status?: number;\n        statusText?: string;\n        error: any;\n    }) {\n        this.request = request;\n        this.headers = headers;\n        this.status = status;\n        this.statusText = statusText;\n        this.error = error;\n    }\n}\n\n// #endregion\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { HTTPRequest } from '../request';\n\nexport function parseFetchParamsFromRequest(request: HTTPRequest): RequestInit {\n    const fetchParams: RequestInit = {\n        method: request.method,\n        headers: request.getHeadersInit(),\n        body: request.getBody(),\n        credentials: request.withCredentials ? 'include' : undefined,\n    };\n\n    return fetchParams;\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable ts/no-explicit-any */\n/* eslint-disable no-case-declarations */\n\nimport type { Subscriber } from 'rxjs';\nimport type { HTTPRequest } from '../request';\nimport type { HTTPEvent, HTTPResponseBody } from '../response';\nimport type { IHTTPImplementation } from './implementation';\nimport { ILogService } from '@univerjs/core';\nimport { Observable } from 'rxjs';\nimport { HTTPHeaders } from '../headers';\nimport { HTTPStatusCode } from '../http';\nimport { HTTPProgress, HTTPResponse, HTTPResponseError } from '../response';\nimport { parseFetchParamsFromRequest } from './util';\n\n/**\n * An HTTP implementation using Fetch API. This implementation can both run in browser and Node.js.\n *\n * It does not support streaming response yet (May 12, 2024).\n */\nexport class FetchHTTPImplementation implements IHTTPImplementation {\n    constructor(\n        @ILogService private readonly _logService: ILogService\n    ) { }\n\n    send(request: HTTPRequest): Observable<HTTPEvent<any>> {\n        return new Observable((subscriber) => {\n            const abortController = new AbortController();\n            this._send(request, subscriber, abortController).catch((error) => {\n                subscriber.error(new HTTPResponseError({\n                    error,\n                    request,\n                }));\n            });\n\n            return () => abortController.abort();\n        });\n    }\n\n    private async _send(request: HTTPRequest, subscriber: Subscriber<HTTPEvent<any>>, abortController: AbortController) {\n        let response: Response;\n\n        try {\n            const fetchParams = parseFetchParamsFromRequest(request);\n            const urlWithParams = request.getUrlWithParams();\n            const fetchPromise = fetch(urlWithParams, {\n                signal: abortController.signal,\n                ...fetchParams,\n            });\n\n            this._logService.debug(`[FetchHTTPImplementation]: sending request to url ${urlWithParams} with params ${fetchParams}`);\n\n            response = await fetchPromise;\n        } catch (error: any) {\n            const e = new HTTPResponseError({\n                request,\n                error,\n                status: error.status ?? 0,\n                statusText: error.statusText ?? 'Unknown Error',\n                headers: error.headers,\n            });\n\n            this._logService.error('[FetchHTTPImplementation]: network error', e);\n\n            subscriber.error(e);\n\n            return;\n        }\n\n        const responseHeaders = new HTTPHeaders(response.headers);\n        const status = response.status;\n        const statusText = response.statusText;\n\n        let body: HTTPResponseBody = null;\n        if (response.body) {\n            body = await this._readBody(request, response, subscriber);\n        }\n\n        const ok = status >= HTTPStatusCode.Ok && status < HTTPStatusCode.MultipleChoices;\n        if (ok) {\n            subscriber.next(new HTTPResponse({\n                body,\n                headers: responseHeaders,\n                status,\n                statusText,\n            }));\n        } else {\n            const e = new HTTPResponseError({\n                request,\n                error: body,\n                status,\n                statusText,\n                headers: responseHeaders,\n            });\n\n            this._logService.error('[FetchHTTPImplementation]: network error', e);\n\n            subscriber.error(e);\n        }\n\n        subscriber.complete();\n    }\n\n    private async _readBody(\n        request: HTTPRequest,\n        response: Response,\n        subscriber: Subscriber<HTTPEvent<any>>\n    ): Promise<HTTPResponseBody> {\n        const chunks: Uint8Array[] = [];\n        const reader = response.body!.getReader();\n        const contentLength = response.headers.get('content-length');\n\n        let receivedLength = 0;\n\n        const reportProgress = request.requestParams?.reportProgress;\n        const responseType = request.responseType;\n        let partialText: string | undefined;\n        let decoder: TextDecoder;\n\n        while (true) {\n            const { done, value } = await reader.read();\n            if (done) break;\n\n            chunks.push(value);\n            receivedLength += value.length;\n\n            if (reportProgress && responseType === 'text') {\n                partialText = (partialText ?? '') + (decoder ??= new TextDecoder()).decode(value, { stream: true });\n                subscriber.next(new HTTPProgress(\n                    contentLength ? Number.parseInt(contentLength, 10) : undefined,\n                    receivedLength,\n                    partialText\n                ));\n            }\n        }\n\n        const all = mergeChunks(chunks, receivedLength);\n        try {\n            const contentType = response.headers.get('content-type') ?? '';\n            const body = deserialize(request, all, contentType);\n            return body;\n        } catch (error) {\n            const e = new HTTPResponseError({\n                request,\n                error,\n                status: response.status,\n                statusText: response.statusText,\n                headers: new HTTPHeaders(response.headers),\n            });\n\n            this._logService.error('[FetchHTTPImplementation]: network error', e);\n\n            subscriber.error(e);\n\n            return null;\n        }\n    }\n}\n\nfunction mergeChunks(chunks: Uint8Array[], totalLength: number): Uint8Array {\n    const all = new Uint8Array(totalLength);\n    let position = 0;\n\n    for (const chunk of chunks) {\n        all.set(chunk, position);\n        position += chunk.length;\n    }\n\n    return all;\n}\n\nconst XSSI_PREFIX = /^\\)\\]\\}',?\\n/;\nfunction deserialize(request: HTTPRequest, bin: Uint8Array, contentType: string): HTTPResponseBody {\n    switch (request.responseType) {\n        case 'json':\n            const text = new TextDecoder().decode(bin).replace(XSSI_PREFIX, '');\n            return text === '' ? null : JSON.parse(text);\n        case 'text':\n            return new TextDecoder().decode(bin);\n        case 'blob':\n            return new Blob([bin], { type: contentType });\n        case 'arraybuffer':\n            return bin.buffer;\n        default:\n            throw new Error(`[FetchHTTPImplementation]: unknown response type: ${request.responseType}.`);\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable max-lines-per-function */\n/* eslint-disable ts/no-explicit-any */\n\nimport type { Nullable } from '@univerjs/core';\nimport type { Observer } from 'rxjs';\nimport type { HTTPRequest } from '../request';\nimport type { HTTPEvent } from '../response';\nimport type { IHTTPImplementation } from './implementation';\nimport { ILogService } from '@univerjs/core';\nimport { Observable } from 'rxjs';\nimport { HTTPHeaders } from '../headers';\nimport { ErrorStatusCodeLowerBound, HTTPStatusCode, SuccessStatusCodeLowerBound } from '../http';\nimport { HTTPResponse, HTTPResponseError, ResponseHeader } from '../response';\nimport { parseFetchParamsFromRequest } from './util';\n\n/**\n * An HTTP implementation using XHR. HTTP service provided by this service could only be async (we do not support sync XHR now).\n */\nexport class XHRHTTPImplementation implements IHTTPImplementation {\n    constructor(\n        @ILogService private readonly _logService: ILogService\n    ) { }\n\n    send(request: HTTPRequest): Observable<HTTPEvent<any>> {\n        return new Observable((observer: Observer<HTTPEvent<any>>) => {\n            const xhr = new XMLHttpRequest();\n            const urlWithParams = request.getUrlWithParams();\n            const fetchParams = parseFetchParamsFromRequest(request);\n\n            xhr.open(request.method, urlWithParams);\n            if (request.withCredentials) {\n                xhr.withCredentials = true;\n            }\n\n            if (fetchParams.headers) {\n                Object.entries(fetchParams.headers).forEach(([key, value]) => xhr.setRequestHeader(key, value));\n            }\n\n            let responseHeader: Nullable<ResponseHeader>;\n\n            const buildResponseHeader = () => {\n                if (responseHeader) {\n                    return responseHeader;\n                }\n\n                const statusText = xhr.statusText || 'OK';\n                const headers = new HTTPHeaders(xhr.getAllResponseHeaders());\n                return new ResponseHeader(headers, xhr.status, statusText);\n            };\n\n            const onLoadHandler = () => {\n                const { headers, statusText, status } = buildResponseHeader();\n                const { responseType } = request;\n\n                let body: any = null;\n                let error: any = null;\n                if (status !== HTTPStatusCode.NoContent) {\n                    body = typeof xhr.response === 'undefined' ? xhr.responseText : xhr.response;\n                }\n\n                let success = status >= SuccessStatusCodeLowerBound && status < ErrorStatusCodeLowerBound;\n\n                // Parse response body according to request's `responseType`.\n                // However we will not verify whether the response type is\n                // the same as the request's `responseType`. We will do that\n                // in the `HTTPService` class because the verification should be\n                // the same across different implementations.\n                if (responseType === 'json' && typeof body === 'string') {\n                    const originalBody = body;\n                    try {\n                        body = body ? JSON.parse(body) : null;\n                    } catch (e) {\n                        // make success as false to emit a HTTPResponseError\n                        success = false;\n                        // revert our change to the original body\n                        body = originalBody;\n                        error = e;\n                    }\n                }\n\n                if (success) {\n                    observer.next(\n                        new HTTPResponse({\n                            body,\n                            headers,\n                            status,\n                            statusText,\n                        })\n                    );\n                } else {\n                    const e = new HTTPResponseError({\n                        request,\n                        error,\n                        headers,\n                        status,\n                        statusText,\n                    });\n\n                    this._logService.error('[XHRHTTPImplementation]: network error', e);\n\n                    observer.error(e);\n                }\n            };\n\n            const onErrorHandler = (error: ProgressEvent) => {\n                const e = new HTTPResponseError({\n                    request,\n                    error,\n                    status: xhr.status || 0,\n                    statusText: xhr.statusText || 'Unknown Error',\n                    headers: buildResponseHeader().headers,\n                });\n\n                this._logService.error('[XHRHTTPImplementation]: network error', e);\n\n                observer.error(e);\n            };\n\n            xhr.addEventListener('load', onLoadHandler);\n            xhr.addEventListener('error', onErrorHandler);\n            xhr.addEventListener('abort', onErrorHandler);\n            xhr.addEventListener('timeout', onErrorHandler);\n\n            const body = request.getBody();\n            xhr.send(body);\n\n            this._logService.debug('[XHRHTTPImplementation]', `sending request to url ${urlWithParams} with params ${fetchParams}`);\n\n            // Abort the request if the subscription is disposed before the request completes.\n            return () => {\n                if (xhr.readyState !== xhr.DONE) {\n                    xhr.abort();\n                }\n\n                xhr.removeEventListener('load', onLoadHandler);\n                xhr.removeEventListener('error', onErrorHandler);\n                xhr.removeEventListener('abort', onErrorHandler);\n                xhr.removeEventListener('timeout', onErrorHandler);\n            };\n        });\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { DependencyOverride } from '@univerjs/core';\nimport { ILogService, Inject, Injector, LookUp, mergeOverrideWithDependencies, Plugin, Quantity, registerDependencies } from '@univerjs/core';\nimport { HTTPService } from './services/http/http.service';\nimport { FetchHTTPImplementation } from './services/http/implementations/fetch';\nimport { IHTTPImplementation } from './services/http/implementations/implementation';\nimport { XHRHTTPImplementation } from './services/http/implementations/xhr';\n\nexport interface IUniverNetworkPluginConfig {\n    /**\n     * Use fetch instead of XMLHttpRequest. By default, Univer will use fetch on Node.js and XMLHttpRequest in browser.\n     */\n    useFetchImpl?: boolean;\n\n    /**\n     * Build in dependencies that can be overridden:\n     *\n     * - {@link HTTPService}\n     * - {@link IHTTPImplementation}\n     */\n    override?: DependencyOverride;\n\n    /**\n     * Force to use a new instance of {@link HTTPService} and {@link IHTTPImplementation} even if\n     * an ancestor injector already has them registered.\n     */\n    forceUseNewInstance?: boolean;\n}\n\n/**\n * This plugin add network services to the Univer instance.\n */\nexport class UniverNetworkPlugin extends Plugin {\n    static override pluginName = 'UNIVER_NETWORK_PLUGIN';\n\n    constructor(\n        private readonly _config: Partial<IUniverNetworkPluginConfig> | undefined = undefined,\n        @ILogService private readonly _logger: ILogService,\n        @Inject(Injector) protected readonly _injector: Injector\n    ) {\n        super();\n    }\n\n    override onStarting(): void {\n        const parent = this._injector.get(HTTPService, Quantity.OPTIONAL, LookUp.SKIP_SELF);\n        if (parent && !this._config?.forceUseNewInstance) {\n            this._logger.warn(\n                '[UniverNetworkPlugin]',\n                'HTTPService is already registered in an ancestor interceptor. Skipping registration. ' +\n                'If you want to force a new instance, set \"forceUseNewInstance\" to true in the plugin configuration.'\n            );\n            return;\n        }\n\n        const impl = this._config?.useFetchImpl\n            ? FetchHTTPImplementation\n            : typeof window !== 'undefined'\n                ? XHRHTTPImplementation\n                : FetchHTTPImplementation;\n\n        registerDependencies(this._injector, mergeOverrideWithDependencies([\n            [HTTPService],\n            [IHTTPImplementation, { useClass: impl }],\n        ], this._config?.override));\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Nullable } from '@univerjs/core';\nimport { createIdentifier, Disposable, DisposableCollection, toDisposable } from '@univerjs/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nexport type SocketBodyType = string | ArrayBufferLike | Blob | ArrayBufferView;\n\n/**\n * This service is responsible for establishing bidi-directional connection to a remote server.\n */\nexport const ISocketService = createIdentifier<ISocketService>('univer.network.socket.service');\nexport interface ISocketService {\n    createSocket(url: string): Nullable<ISocket>;\n}\n\n/**\n * An interface that represents a socket connection.\n */\nexport interface ISocket {\n    URL: string;\n\n    close(code?: number, reason?: string): void;\n\n    /**\n     * Send a message to the remote server.\n     */\n    send(data: SocketBodyType): void;\n\n    close$: Observable<Event>;\n    error$: Observable<Event>;\n    message$: Observable<MessageEvent>;\n    open$: Observable<Event>;\n}\n\n/**\n * This service create a WebSocket connection to a remote server.\n */\nexport class WebSocketService extends Disposable implements ISocketService {\n    createSocket(URL: string): Nullable<ISocket> {\n        try {\n            const connection = new WebSocket(URL);\n\n            const disposables = new DisposableCollection();\n            const webSocket: ISocket = {\n                URL,\n                close: (code?: number, reason?: string) => {\n                    connection.close(code, reason);\n                    disposables.dispose();\n                },\n                send: (data: SocketBodyType) => {\n                    connection.send(data);\n                },\n                open$: new Observable<Event>((subscriber) => {\n                    const callback = (event: Event) => subscriber.next(event);\n                    connection.addEventListener('open', callback);\n                    disposables.add(toDisposable(() => connection.removeEventListener('open', callback)));\n                }).pipe(share()),\n                close$: new Observable<Event>((subscriber) => {\n                    const callback = (event: Event) => subscriber.next(event);\n                    connection.addEventListener('close', callback);\n                    disposables.add(toDisposable(() => connection.removeEventListener('close', callback)));\n                }).pipe(share()),\n                error$: new Observable<Event>((subscriber) => {\n                    const callback = (event: Event) => subscriber.next(event);\n                    connection.addEventListener('error', callback);\n                    disposables.add(toDisposable(() => connection.removeEventListener('error', callback)));\n                }).pipe(share()),\n                message$: new Observable<MessageEvent>((subscriber) => {\n                    const callback = (event: MessageEvent) => subscriber.next(event);\n                    connection.addEventListener('message', callback);\n                    disposables.add(toDisposable(() => connection.removeEventListener('message', callback)));\n                }).pipe(share()),\n            };\n\n            return webSocket;\n        } catch (e) {\n            console.error(e);\n            return null;\n        }\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Workbook } from '@univerjs/core';\n\nimport type { IRangeSelectorInstance } from '@univerjs/sheets-formula-ui';\nimport { ILogService, IUniverInstanceService, UniverInstanceType } from '@univerjs/core';\nimport { Button } from '@univerjs/design';\nimport { RangeSelector } from '@univerjs/sheets-formula-ui';\nimport { useDependency, useObservable } from '@univerjs/ui';\nimport { useMemo, useRef } from 'react';\n\nexport const ButtonRangeSelector = () => {\n    const selectorRef = useRef<IRangeSelectorInstance>(null);\n    const univerInstanceService = useDependency(IUniverInstanceService);\n    const workbook = useObservable(useMemo(() => univerInstanceService.getCurrentTypeOfUnit$<Workbook>(UniverInstanceType.UNIVER_SHEET), []));\n    const worksheet = useObservable(useMemo(() => workbook?.activeSheet$, [workbook]));\n    const loggerSerive = useDependency(ILogService);\n\n    return (\n        <>\n            <Button onClick={() => selectorRef.current?.showDialog([])}>Start Select</Button>\n            <RangeSelector\n                key={workbook?.getUnitId() ?? '' + `_${worksheet?.getSheetId()}` ?? ''}\n                selectorRef={selectorRef}\n                hideEditor\n                unitId={workbook?.getUnitId() ?? ''}\n                subUnitId={worksheet?.getSheetId() ?? ''}\n                onChange={(_, str) => {\n                    loggerSerive.log('==onChange', str);\n                }}\n            />\n        </>\n    );\n};\n", null, null, null, null, "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IAccessor, ICommand } from '@univerjs/core';\nimport { CommandType } from '@univerjs/core';\n\nexport const DropdownListFirstItemOperation: ICommand = {\n    id: 'custom-menu.operation.dropdown-list-first-item',\n    type: CommandType.OPERATION,\n    handler: async (_accessor: IAccessor) => {\n        // alert('Dropdown list first item operation')\n        return true;\n    },\n};\n\nexport const DropdownListSecondItemOperation: ICommand = {\n    id: 'custom-menu.operation.dropdown-list-second-item',\n    type: CommandType.OPERATION,\n    handler: async (_accessor: IAccessor) => {\n        // alert('Dropdown list second item operation')\n        return true;\n    },\n};\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IAccessor, ICommand } from '@univerjs/core';\nimport { CommandType } from '@univerjs/core';\n\nexport const SingleButtonOperation: ICommand = {\n    id: 'custom-menu.operation.single-button',\n    type: CommandType.OPERATION,\n    handler: async (_accessor: IAccessor) => {\n    // alert('Single button operation')\n        return true;\n    },\n};\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IMenuButtonItem, IMenuSelectorItem } from '@univerjs/ui';\nimport { MenuItemType } from '@univerjs/ui';\nimport { DropdownListFirstItemOperation, DropdownListSecondItemOperation } from '../../commands/operations/dropdown-list.operation';\n\nexport const CUSTOM_MENU_DROPDOWN_LIST_OPERATION_ID = 'custom-menu.operation.dropdown-list';\n\nexport function CustomMenuItemDropdownListMainButtonFactory(): IMenuSelectorItem<string> {\n    return {\n    // When type is MenuItemType.SUBITEMS, this factory serves as a container for the drop-down list, and you can set any unique id\n        id: CUSTOM_MENU_DROPDOWN_LIST_OPERATION_ID,\n    // The type of the menu item, in this case, it is a subitems\n        type: MenuItemType.SUBITEMS,\n        icon: 'MainButtonIcon',\n        tooltip: 'customMenu.dropdownList',\n        title: 'customMenu.dropdown',\n    };\n}\n\nexport function CustomMenuItemDropdownListFirstItemFactory(): IMenuButtonItem<string> {\n    return {\n        id: DropdownListFirstItemOperation.id,\n        type: MenuItemType.BUTTON,\n        title: 'customMenu.itemOne',\n        icon: 'ItemIcon',\n    };\n}\n\nexport function CustomMenuItemDropdownListSecondItemFactory(): IMenuButtonItem<string> {\n    return {\n        id: DropdownListSecondItemOperation.id,\n        type: MenuItemType.BUTTON,\n        title: 'customMenu.itemTwo',\n        icon: 'ItemIcon',\n    };\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IMenuButtonItem } from '@univerjs/ui';\nimport { MenuItemType } from '@univerjs/ui';\nimport { SingleButtonOperation } from '../../commands/operations/single-button.operation';\n\nexport function CustomMenuItemSingleButtonFactory(): IMenuButtonItem<string> {\n    return {\n        // Bind the command id, clicking the button will trigger this command\n        id: SingleButtonOperation.id,\n        // The type of the menu item, in this case, it is a button\n        type: MenuItemType.BUTTON,\n        // The icon of the button, which needs to be registered in ComponentManager\n        icon: 'ButtonIcon',\n        // The tooltip of the button. Prioritize matching internationalization. If no match is found, the original string will be displayed\n        tooltip: 'customMenu.singleButton',\n        // The title of the button. Prioritize matching internationalization. If no match is found, the original string will be displayed\n        title: 'customMenu.button',\n    };\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Disposable, ICommandService, Inject, Injector } from '@univerjs/core';\nimport { AiSingle, BarChartSingle, CommentSingle } from '@univerjs/icons';\nimport { ComponentManager, ContextMenuGroup, ContextMenuPosition, IMenuManagerService, MenuItemType, RibbonStartGroup } from '@univerjs/ui';\nimport { DropdownListFirstItemOperation, DropdownListSecondItemOperation } from '../commands/operations/dropdown-list.operation';\nimport { SingleButtonOperation } from '../commands/operations/single-button.operation';\nimport { CUSTOM_MENU_DROPDOWN_LIST_OPERATION_ID, CustomMenuItemDropdownListFirstItemFactory, CustomMenuItemDropdownListMainButtonFactory, CustomMenuItemDropdownListSecondItemFactory } from './menu/dropdown-list.menu';\nimport { CustomMenuItemSingleButtonFactory } from './menu/single-button.menu';\n\nexport class CustomMenuController extends Disposable {\n    constructor(\n        @Inject(Injector) private readonly _injector: Injector,\n        @ICommandService private readonly _commandService: ICommandService,\n        @IMenuManagerService private readonly _menuManagerService: IMenuManagerService,\n        @Inject(ComponentManager) private readonly _componentManager: ComponentManager\n    ) {\n        super();\n\n        this._initCommands();\n        this._registerComponents();\n        this._initMenus();\n    }\n\n  /**\n   * register commands\n   */\n    private _initCommands(): void {\n        [\n            SingleButtonOperation,\n            DropdownListFirstItemOperation,\n            DropdownListSecondItemOperation,\n        ].forEach((c) => {\n            this.disposeWithMe(this._commandService.registerCommand(c));\n        });\n    }\n\n  /**\n   * register icon components\n   */\n    private _registerComponents(): void {\n        this.disposeWithMe(this._componentManager.register('ButtonIcon', AiSingle));\n        this.disposeWithMe(this._componentManager.register('ItemIcon', BarChartSingle));\n        this.disposeWithMe(this._componentManager.register('MainButtonIcon', CommentSingle));\n    }\n\n  /**\n   * register menu items\n   */\n    private _initMenus(): void {\n        const largeDropdownList = Array.from({ length: 15 }, (_, i) => ({\n            order: 20 + i,\n            menuItemFactory: () => {\n                return {\n                    id: `${DropdownListSecondItemOperation.id}-${i}`,\n                    type: MenuItemType.BUTTON,\n                    title: 'customMenu.itemTwo',\n                    icon: 'ItemIcon',\n                };\n            },\n        }));\n        this._menuManagerService.mergeMenu({\n            [RibbonStartGroup.OTHERS]: {\n                [SingleButtonOperation.id]: {\n                    order: 10,\n                    menuItemFactory: CustomMenuItemSingleButtonFactory,\n                },\n                [CUSTOM_MENU_DROPDOWN_LIST_OPERATION_ID]: {\n                    order: 11,\n                    menuItemFactory: CustomMenuItemDropdownListMainButtonFactory,\n                    [DropdownListFirstItemOperation.id]: {\n                        order: 0,\n                        menuItemFactory: CustomMenuItemDropdownListFirstItemFactory,\n                    },\n                    [DropdownListSecondItemOperation.id]: {\n                        order: 1,\n                        menuItemFactory: CustomMenuItemDropdownListSecondItemFactory,\n                    },\n                    ...largeDropdownList,\n                },\n            },\n            [ContextMenuPosition.MAIN_AREA]: {\n                [ContextMenuGroup.OTHERS]: {\n                    [SingleButtonOperation.id]: {\n                        order: 12,\n                        menuItemFactory: CustomMenuItemSingleButtonFactory,\n                    },\n                    [CUSTOM_MENU_DROPDOWN_LIST_OPERATION_ID]: {\n                        order: 9,\n                        menuItemFactory: CustomMenuItemDropdownListMainButtonFactory,\n                        [DropdownListFirstItemOperation.id]: {\n                            order: 0,\n                            menuItemFactory: CustomMenuItemDropdownListFirstItemFactory,\n                        },\n                        [DropdownListSecondItemOperation.id]: {\n                            order: 1,\n                            menuItemFactory: CustomMenuItemDropdownListSecondItemFactory,\n                        },\n                    },\n                },\n            },\n        });\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default {\n    customMenu: {\n        button: 'Button',\n        singleButton: 'Single button',\n        dropdown: 'Dropdown',\n        dropdownList: 'Dropdown list',\n        itemOne: 'Item 1',\n        itemTwo: 'Item 2',\n    },\n};\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default {\n    customMenu: {\n        button: '\u6309\u94AE',\n        singleButton: '\u5355\u4E2A\u6309\u94AE',\n        dropdown: '\u4E0B\u62C9',\n        dropdownList: '\u4E0B\u62C9\u5217\u8868',\n        itemOne: '\u9879\u76EE\u4E00',\n        itemTwo: '\u9879\u76EE\u4E8C',\n    },\n};\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Dependency } from '@univerjs/core';\nimport { Inject, Injector, LocaleService, Plugin, touchDependencies, UniverInstanceType } from '@univerjs/core';\nimport { CustomMenuController } from './controllers/custom-menu.controller';\nimport enUS from './locale/en-US';\nimport zhCN from './locale/zh-CN';\n\nconst SHEET_CUSTOM_MENU_PLUGIN = 'SHEET_CUSTOM_MENU_PLUGIN';\n\nexport class UniverSheetsCustomMenuPlugin extends Plugin {\n    static override type = UniverInstanceType.UNIVER_SHEET;\n    static override pluginName = SHEET_CUSTOM_MENU_PLUGIN;\n\n    constructor(\n        @Inject(Injector) protected readonly _injector: Injector,\n        @Inject(LocaleService) private readonly _localeService: LocaleService\n    ) {\n        super();\n\n        this._localeService.load({\n            enUS,\n            zhCN,\n        });\n    }\n\n    override onStarting(): void {\n        ([\n            [CustomMenuController],\n        ] as Dependency[]).forEach((d) => this._injector.add(d));\n    }\n\n    override onRendered(): void {\n        touchDependencies(this._injector, [\n            [CustomMenuController],\n        ]);\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, useState } from 'react';\nimport { Button } from '@univerjs/design';\nimport { Injector } from '@univerjs/core';\nimport { ISaveService } from '../services/save-service';\n\n/**\n * \u4FDD\u5B58\u6309\u94AE\u7EC4\u4EF6\n */\nexport function SaveButton(props: any) {\n    const injector = Injector.getInstance();\n    const saveService = injector.get(ISaveService);\n    const [isSaving, setIsSaving] = useState(false);\n\n    const handleSave = useCallback(async () => {\n        try {\n            setIsSaving(true);\n            // \u5F39\u51FA\u5BF9\u8BDD\u6846\u8BE2\u95EE\u5DE5\u4F5C\u7C3F\u540D\u79F0\n            const workbookName = prompt('\u8BF7\u8F93\u5165\u5DE5\u4F5C\u7C3F\u540D\u79F0:');\n            if (!workbookName) {\n                setIsSaving(false);\n                return;\n            }\n\n            // \u4FDD\u5B58\u5DE5\u4F5C\u7C3F\n            const workbookId = await saveService.saveWorkbook(workbookName);\n            alert(`\u5DE5\u4F5C\u7C3F\u5DF2\u4FDD\u5B58\uFF0CID: ${workbookId}`);\n        } catch (error) {\n            console.error('\u4FDD\u5B58\u5931\u8D25:', error);\n            alert('\u4FDD\u5B58\u5931\u8D25: ' + (error instanceof Error ? error.message : String(error)));\n        } finally {\n            setIsSaving(false);\n        }\n    }, [saveService]);\n\n    return (\n        <Button\n            {...props}\n            disabled={isSaving}\n            onClick={handleSave}\n        >\n            {isSaving ? '\u4FDD\u5B58\u4E2D...' : '\u4FDD\u5B58\u5230\u670D\u52A1\u5668'}\n        </Button>\n    );\n}\n\n/**\n * \u8FFD\u52A0\u6570\u636E\u6309\u94AE\u7EC4\u4EF6\n */\nexport function AppendDataButton(props: any) {\n    const injector = Injector.getInstance();\n    const saveService = injector.get(ISaveService);\n    const [isAppending, setIsAppending] = useState(false);\n\n    const handleAppendData = useCallback(async () => {\n        try {\n            setIsAppending(true);\n            \n            // \u5F39\u51FA\u5BF9\u8BDD\u6846\u83B7\u53D6\u53C2\u6570\n            const workbookId = prompt('\u8BF7\u8F93\u5165\u5DE5\u4F5C\u7C3FID:');\n            if (!workbookId) {\n                setIsAppending(false);\n                return;\n            }\n            \n            const sheetId = prompt('\u8BF7\u8F93\u5165\u5DE5\u4F5C\u8868ID:');\n            if (!sheetId) {\n                setIsAppending(false);\n                return;\n            }\n            \n            // \u5F39\u51FA\u5BF9\u8BDD\u6846\u83B7\u53D6\u6570\u636E\uFF08\u7B80\u5355\u8D77\u89C1\uFF0C\u8FD9\u91CC\u4F7F\u7528JSON\u683C\u5F0F\uFF09\n            const dataStr = prompt('\u8BF7\u8F93\u5165\u8981\u8FFD\u52A0\u7684\u6570\u636E (JSON\u683C\u5F0F\u7684\u4E8C\u7EF4\u6570\u7EC4\uFF0C\u4F8B\u5982: [[\"A1\", \"B1\"], [\"A2\", \"B2\"]]):');\n            if (!dataStr) {\n                setIsAppending(false);\n                return;\n            }\n            \n            // \u89E3\u6790\u6570\u636E\n            let data;\n            try {\n                data = JSON.parse(dataStr);\n                if (!Array.isArray(data) || !data.every(row => Array.isArray(row))) {\n                    throw new Error('\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u5E94\u4E3A\u4E8C\u7EF4\u6570\u7EC4');\n                }\n            } catch (e) {\n                alert('\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E: ' + (e instanceof Error ? e.message : String(e)));\n                setIsAppending(false);\n                return;\n            }\n            \n            // \u8FFD\u52A0\u6570\u636E\n            const success = await saveService.appendData(workbookId, sheetId, data);\n            if (success) {\n                alert('\u6570\u636E\u8FFD\u52A0\u6210\u529F');\n            } else {\n                alert('\u6570\u636E\u8FFD\u52A0\u5931\u8D25');\n            }\n        } catch (error) {\n            console.error('\u8FFD\u52A0\u6570\u636E\u5931\u8D25:', error);\n            alert('\u8FFD\u52A0\u6570\u636E\u5931\u8D25: ' + (error instanceof Error ? error.message : String(error)));\n        } finally {\n            setIsAppending(false);\n        }\n    }, [saveService]);\n\n    return (\n        <Button\n            {...props}\n            disabled={isAppending}\n            onClick={handleAppendData}\n        >\n            {isAppending ? '\u8FFD\u52A0\u4E2D...' : '\u8FFD\u52A0\u6570\u636E'}\n        </Button>\n    );\n} ", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createIdentifier, Disposable, ILogService, Inject, Injector } from '@univerjs/core';\nimport { FUniver } from '@univerjs/core/facade';\nimport { HTTPService } from '@univerjs/network';\n\n// \u540E\u7AEFAPI\u5730\u5740\nconst API_BASE_URL = 'http://localhost:5001/api';\n\nexport interface ISaveService {\n    /**\n     * \u4FDD\u5B58\u5F53\u524D\u5DE5\u4F5C\u7C3F\u6570\u636E\u5230\u540E\u7AEF\n     * @param name \u5DE5\u4F5C\u7C3F\u540D\u79F0\n     * @returns \u4FDD\u5B58\u540E\u7684\u5DE5\u4F5C\u7C3FID\n     */\n    saveWorkbook(name: string): Promise<string>;\n\n    /**\n     * \u5411\u6307\u5B9A\u5DE5\u4F5C\u7C3F\u7684\u6307\u5B9A\u5DE5\u4F5C\u8868\u8FFD\u52A0\u6570\u636E\n     * @param workbookId \u5DE5\u4F5C\u7C3FID\n     * @param sheetId \u5DE5\u4F5C\u8868ID\n     * @param data \u8981\u8FFD\u52A0\u7684\u6570\u636E\n     * @returns \u662F\u5426\u8FFD\u52A0\u6210\u529F\n     */\n    appendData(workbookId: string, sheetId: string, data: unknown[][]): Promise<boolean>;\n}\n\nexport const ISaveService = createIdentifier<ISaveService>('univer.services.save-service');\n\n/**\n * \u8868\u683C\u4FDD\u5B58\u670D\u52A1\uFF0C\u63D0\u4F9B\u4E0E\u540E\u7AEFAPI\u4EA4\u4E92\u7684\u80FD\u529B\n */\nexport class SaveService extends Disposable implements ISaveService {\n    constructor(\n        @Inject(Injector) private readonly _injector: Injector,\n        @ILogService private readonly _logService: ILogService,\n        private readonly _httpService: HTTPService\n    ) {\n        super();\n    }\n\n    /**\n     * \u4FDD\u5B58\u5F53\u524D\u5DE5\u4F5C\u7C3F\u6570\u636E\u5230\u540E\u7AEF\n     * @param name \u5DE5\u4F5C\u7C3F\u540D\u79F0\n     * @returns \u4FDD\u5B58\u540E\u7684\u5DE5\u4F5C\u7C3FID\n     */\n    async saveWorkbook(name: string): Promise<string> {\n        try {\n            // \u83B7\u53D6\u5F53\u524D\u6D3B\u52A8\u7684\u5DE5\u4F5C\u7C3F\n            const univerAPI = FUniver.newAPI();\n            const workbook = univerAPI.getActiveWorkbook();\n            \n            if (!workbook) {\n                throw new Error('\u6CA1\u6709\u6D3B\u52A8\u7684\u5DE5\u4F5C\u7C3F');\n            }\n            \n            // \u83B7\u53D6\u5DE5\u4F5C\u7C3F\u7684\u5FEB\u7167\u6570\u636E\n            const snapshot = workbook.save();\n            \n            // \u4F7F\u7528fetch API\u76F4\u63A5\u53D1\u9001\u5230\u540E\u7AEF\uFF0C\u800C\u4E0D\u662F\u901A\u8FC7HTTPService\n            // \u8FD9\u6837\u53EF\u4EE5\u786E\u4FDD\u5373\u4F7FUniver\u7684\u7F51\u7EDC\u670D\u52A1\u6709\u95EE\u9898\uFF0C\u6211\u4EEC\u4E5F\u80FD\u6B63\u5E38\u8C03\u7528\u540E\u7AEFAPI\n            const response = await fetch(`${API_BASE_URL}/workbooks`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    name,\n                    data: snapshot\n                })\n            });\n            \n            const result = await response.json();\n            \n            if (!result.success) {\n                throw new Error(result.message || '\u4FDD\u5B58\u5931\u8D25');\n            }\n            \n            return result.id;\n        } catch (error) {\n            this._logService.error('[SaveService]', 'Failed to save workbook', error);\n            throw error;\n        }\n    }\n\n    /**\n     * \u5411\u6307\u5B9A\u5DE5\u4F5C\u7C3F\u7684\u6307\u5B9A\u5DE5\u4F5C\u8868\u8FFD\u52A0\u6570\u636E\n     * @param workbookId \u5DE5\u4F5C\u7C3FID\n     * @param sheetId \u5DE5\u4F5C\u8868ID\n     * @param data \u8981\u8FFD\u52A0\u7684\u6570\u636E\n     * @returns \u662F\u5426\u8FFD\u52A0\u6210\u529F\n     */\n    async appendData(workbookId: string, sheetId: string, data: unknown[][]): Promise<boolean> {\n        try {\n            // \u4F7F\u7528fetch API\u76F4\u63A5\u53D1\u9001\u5230\u540E\u7AEF\n            const response = await fetch(`${API_BASE_URL}/workbooks/${workbookId}/sheets/${sheetId}/append`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ data })\n            });\n            \n            const result = await response.json();\n            \n            if (!result.success) {\n                throw new Error(result.message || '\u8FFD\u52A0\u6570\u636E\u5931\u8D25');\n            }\n            \n            this._logService.info('[SaveService]', `\u8FFD\u52A0\u4E86${result.rowsAdded}\u884C\u6570\u636E\uFF0C\u5F53\u524D\u884C\u6570: ${result.newRowCount}`);\n            \n            return true;\n        } catch (error) {\n            this._logService.error('[SaveService]', 'Failed to append data', error);\n            throw error;\n        }\n    }\n} ", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ILogService, Inject, Injector, Plugin } from '@univerjs/core';\nimport { ToolbarItem, IMenuManagerService, MenuManagerService, MenuItemType, MenuManagerPosition } from '@univerjs/ui';\nimport { SaveButton, AppendDataButton } from './save-toolbar';\n\n/**\n * \u4FDD\u5B58\u5DE5\u5177\u680F\u63D2\u4EF6\n */\nexport class UniverSaveToolbarPlugin extends Plugin {\n    static override readonly pluginName = 'UNIVER_SAVE_TOOLBAR_PLUGIN';\n\n    constructor(\n        @ILogService private readonly _logService: ILogService,\n        @Inject(Injector) protected readonly _injector: Injector\n    ) {\n        super();\n    }\n\n    override onStarting(): void {\n        // \u5C06\u4FDD\u5B58\u6309\u94AE\u548C\u8FFD\u52A0\u6570\u636E\u6309\u94AE\u6DFB\u52A0\u5230\u9875\u9762\u4E2D\n        const container = document.createElement('div');\n        container.style.display = 'flex';\n        container.style.position = 'fixed';\n        container.style.top = '10px';\n        container.style.right = '10px';\n        container.style.zIndex = '1000';\n        \n        // \u521B\u5EFADOM\u5143\u7D20\n        const saveButtonContainer = document.createElement('div');\n        const appendButtonContainer = document.createElement('div');\n        \n        // \u6DFB\u52A0\u5230\u9875\u9762\n        container.appendChild(saveButtonContainer);\n        container.appendChild(appendButtonContainer);\n        document.body.appendChild(container);\n        \n        // \u521B\u5EFAReact\u7EC4\u4EF6\u5B9E\u4F8B\n        const saveProps = { style: { margin: '0 5px' } };\n        const appendProps = { style: { margin: '0 5px' } };\n        \n        // \u6E32\u67D3\u7EC4\u4EF6\n        const ReactDOM = require('react-dom');\n        const React = require('react');\n        \n        ReactDOM.render(React.createElement(SaveButton, saveProps), saveButtonContainer);\n        ReactDOM.render(React.createElement(AppendDataButton, appendProps), appendButtonContainer);\n\n        console.log('[UniverSaveToolbarPlugin]', 'SaveToolbar initialized successfully');\n    }\n} ", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ILogService, Inject, Injector, Plugin, registerDependencies } from '@univerjs/core';\nimport { HTTPService } from '@univerjs/network';\nimport { ISaveService, SaveService } from './save-service';\n\nexport interface ISavePluginConfig {\n    // \u53EF\u4EE5\u5728\u8FD9\u91CC\u6DFB\u52A0\u914D\u7F6E\u9009\u9879\n    apiBaseUrl?: string;\n}\n\n/**\n * \u7528\u4E8E\u4FDD\u5B58\u8868\u683C\u6570\u636E\u5230\u540E\u7AEF\u7684\u63D2\u4EF6\n */\nexport class UniverSavePlugin extends Plugin {\n    static readonly pluginName = 'UNIVER_SAVE_PLUGIN';\n\n    constructor(\n        private readonly _config: Partial<ISavePluginConfig> | undefined = undefined,\n        @ILogService private readonly _logService: ILogService,\n        @Inject(Injector) protected readonly _injector: Injector\n    ) {\n        super();\n    }\n\n    onStarting(): void {\n        // \u6CE8\u518C\u670D\u52A1\n        registerDependencies(this._injector, [\n            [ISaveService, { useClass: SaveService }]\n        ]);\n        \n        this._logService.info('[UniverSavePlugin]', 'SaveService registered successfully');\n    }\n} ", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IUnitRangeName } from '@univerjs/core';\nimport type { IShowRangeSelectorDialogOptions } from '@univerjs/sheets-formula-ui';\nimport { FUniver } from '@univerjs/core/facade';\nimport { GlobalRangeSelectorService } from '@univerjs/sheets-formula-ui';\n\nexport interface ISheetsFormulaUIMixin {\n    /**\n     * Shows the range selector dialog.\n     *\n     * @param {IShowRangeSelectorDialogOptions} opts The options of the range selector dialog.\n     * @returns {Promise<IUnitRangeName[]>} The selected ranges.\n     * @example\n     * ```typescript\n     * const fWorkbook = univerAPI.getActiveWorkbook();\n     * const fWorksheet = fWorkbook.getActiveSheet();\n     * const unitId = fWorkbook.getId();\n     *\n     * await univerAPI.showRangeSelectorDialog({\n     *   unitId,\n     *   subUnitId: fWorksheet.getSheetId(),\n     *   initialValue: [{\n     *     unitId,\n     *     sheetName: fWorksheet.getSheetName(),\n     *     range: fWorksheet.getRange('A1:B2').getRange()\n     *   }],\n     *   maxRangeCount: 2,\n     *   supportAcrossSheet: true,\n     *   callback: (ranges, isCancel) => {\n     *     // Handle the selected ranges\n     *     console.log(ranges, isCancel);\n     *   }\n     * });\n     * ```\n     */\n    showRangeSelectorDialog(opts: IShowRangeSelectorDialogOptions): Promise<IUnitRangeName[]>;\n}\n\nexport class FSheetsFormulaUIUniver extends FUniver implements ISheetsFormulaUIMixin {\n    override showRangeSelectorDialog(opts: IShowRangeSelectorDialogOptions): Promise<IUnitRangeName[]> {\n        const globalRangeSelectorService = this._injector.get(GlobalRangeSelectorService);\n        return globalRangeSelectorService.showRangeSelectorDialog(opts);\n    }\n}\n\nFUniver.extend(FSheetsFormulaUIUniver);\n\ndeclare module '@univerjs/core/facade' {\n    // eslint-disable-next-line ts/naming-convention\n    interface FUniver extends ISheetsFormulaUIMixin { }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { HTTPEvent, HTTPRequestMethod, HTTPResponse, IPostRequestParams, IRequestParams } from '@univerjs/network';\nimport type { Observable } from 'rxjs';\nimport { Inject, Injector } from '@univerjs/core';\nimport { FBase } from '@univerjs/core/facade';\nimport { HTTPService } from '@univerjs/network';\n\n/**\n * This Facade provides a set of methods to make HTTP requests. You should not\n * create an instance of this class directly, instead, use `getNetwork` of\n * {@link FUniver} instead.\n *\n * @hideconstructor\n */\nexport class FNetwork extends FBase {\n    constructor(\n        @Inject(Injector) protected readonly _injector: Injector,\n        @Inject(HTTPService) protected readonly _httpService: HTTPService\n    ) {\n        super();\n    }\n\n    /**\n     * Send a GET request to the server.\n     * @param {string} url - The requested URL.\n     * @param {IRequestParams} [params] - Query parameters.\n     * @returns {Promise<HTTPResponse>} Network response.\n     */\n    get<T>(url: string, params?: IRequestParams): Promise<HTTPResponse<T>> {\n        return this._httpService.get(url, params) as Promise<HTTPResponse<T>>; ;\n    }\n\n    /**\n     * Send a POST request to the server.\n     * @param {string} url - The requested URL.\n     * @param {IPostRequestParams} [params] - Query parameters.\n     * @returns {Promise<HTTPResponse>} Network response.\n     */\n    post<T>(url: string, params?: IPostRequestParams): Promise<HTTPResponse<T>> {\n        return this._httpService.post(url, params) as Promise<HTTPResponse<T>>; ;\n    }\n\n    /**\n     * Send a PUT request to the server.\n     * @param {string} url - The requested URL\n     * @param {IPostRequestParams} [params] - Query parameters\n     * @returns {Promise<HTTPResponse>} Network response\n     */\n    put<T>(url: string, params?: IPostRequestParams): Promise<HTTPResponse<T>> {\n        return this._httpService.put(url, params) as Promise<HTTPResponse<T>>; ;\n    }\n\n    /**\n     * Send DELETE request to the server.\n     * @param {string} url - The requested URL\n     * @param {IRequestParams} [params] - Query parameters\n     * @returns {Promise<HTTPResponse>} Network response\n     */\n    delete<T>(url: string, params?: IRequestParams): Promise<HTTPResponse<T>> {\n        return this._httpService.delete(url, params) as Promise<HTTPResponse<T>>; ;\n    }\n\n    /**\n     * Send PATCH request to the server.\n     * @param {string} url - The requested URL\n     * @param {IPostRequestParams} [params] - Query parameters\n     * @returns {Promise<HTTPResponse>} Network response\n     */\n    patch<T>(url: string, params?: IPostRequestParams): Promise<HTTPResponse<T>> {\n        return this._httpService.patch(url, params) as Promise<HTTPResponse<T>>;\n    }\n\n    /**\n     * Request for a stream of server-sent events. Instead of a single response, the server sends a stream of responses,\n     * Univer wraps the stream in an [`Observable`](https://rxjs.dev/guide/observable) which you can call `subscribe` on.\n     * @param {HTTPRequestMethod} method - HTTP request method\n     * @param {string} url - The requested URL\n     * @param {IPostRequestParams} [params] - params Query parameters\n     * @returns {Observable<HTTPEvent>} An observable that emits the network response.\n     */\n    getSSE<T>(\n        method: HTTPRequestMethod,\n        url: string,\n        params?: IPostRequestParams\n    ): Observable<HTTPEvent<T>> {\n        return this._httpService.getSSE(method, url, params);\n    }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ISocket } from '@univerjs/network';\nimport { FUniver } from '@univerjs/core/facade';\nimport { WebSocketService } from '@univerjs/network';\nimport { FNetwork } from './f-network';\n\n/**\n * @ignore\n */\ninterface IFUniverNetworkMixin {\n    /**\n     * Get the network API of Univer, with the help of which you can send HTTP requests.\n     */\n    getNetwork(): FNetwork;\n\n    /**\n     * Set WebSocket URL for WebSocketService\n     *\n     * @param {string} url WebSocket URL\n     * @returns {ISocket} WebSocket instance\n     * @example\n     * ```typescript\n     * // Replace the URL with the address of your own WebSocket service\n     * const ws = univerAPI.createSocket('ws://47.100.177.253:8449/ws');\n     *\n     * ws.open$.subscribe(() => {\n     *   console.log('websocket opened');\n     *   ws.send('hello');\n     * });\n     *\n     * ws.message$.subscribe((message) => {\n     *   console.log('websocket message', message);\n     *   const content = JSON.parse(message.data).content;\n     *   if (!content.includes('command')) {\n     *     return;\n     *   }\n     *\n     *   const commandInfo = JSON.parse(content);\n     *   const { command, options } = commandInfo;\n     *   const { id, params } = command;\n     *\n     *   // Upon receiving collaborative data, it is locally saved\n     *   univerAPI.executeCommand(id, params, options);\n     * });\n     *\n     * ws.close$.subscribe(() => {\n     *   console.log('websocket closed');\n     * });\n     *\n     * ws.error$.subscribe((error) => {\n     *   console.log('websocket error', error);\n     * });\n     *\n     * univerAPI.onCommandExecuted((command, options) => {\n     *   // Only synchronize local mutations\n     *   if (command.type !== 2 || options?.fromCollab || options?.onlyLocal || command.id === 'doc.mutation.rich-text-editing') {\n     *     return;\n     *   }\n     *\n     *   const commandInfo = JSON.stringify({ command, options: { fromCollab: true } });\n     *   ws.send(commandInfo);\n     * });\n     * ```\n     */\n    createSocket(url: string): ISocket;\n}\n\nexport class FUniverNetworkMixin extends FUniver implements IFUniverNetworkMixin {\n    override getNetwork(): FNetwork {\n        return this._injector.createInstance(FNetwork);\n    }\n\n    override createSocket(url: string): ISocket {\n        const wsService = this._injector.createInstance(WebSocketService);\n        const ws = wsService.createSocket(url);\n\n        if (!ws) {\n            throw new Error('[WebSocketService]: failed to create socket!');\n        }\n\n        return ws;\n    }\n}\n\nFUniver.extend(FUniverNetworkMixin);\ndeclare module '@univerjs/core/facade' {\n    // eslint-disable-next-line ts/naming-convention\n    interface FUniver extends IFUniverNetworkMixin { }\n}\n", "/**\n * Copyright 2023-present DreamNum Co., Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ILogService, LocaleType, LogLevel, Univer, UniverInstanceType, UserManagerService } from '@univerjs/core';\nimport { FUniver } from '@univerjs/core/facade';\nimport { UniverDebuggerPlugin } from '@univerjs/debugger';\nimport { defaultTheme } from '@univerjs/design';\nimport { UniverDocsPlugin } from '@univerjs/docs';\nimport { UniverDocsDrawingUIPlugin } from '@univerjs/docs-drawing-ui';\nimport { UniverDocsMentionUIPlugin } from '@univerjs/docs-mention-ui';\nimport { UniverDocsUIPlugin } from '@univerjs/docs-ui';\nimport { UniverFormulaEnginePlugin } from '@univerjs/engine-formula';\nimport { UniverRenderEnginePlugin } from '@univerjs/engine-render';\nimport { DEFAULT_WORKBOOK_DATA_DEMO } from '@univerjs/mockdata';\nimport { UniverNetworkPlugin } from '@univerjs/network';\nimport { UniverRPCMainThreadPlugin } from '@univerjs/rpc';\nimport { UniverSheetsPlugin } from '@univerjs/sheets';\nimport { UniverSheetsConditionalFormattingPlugin } from '@univerjs/sheets-conditional-formatting';\nimport { UniverSheetsDataValidationPlugin } from '@univerjs/sheets-data-validation';\nimport { UniverSheetsFilterPlugin } from '@univerjs/sheets-filter';\nimport { UniverSheetsFormulaPlugin } from '@univerjs/sheets-formula';\nimport { UniverSheetsFormulaUIPlugin } from '@univerjs/sheets-formula-ui';\nimport { UniverSheetsHyperLinkPlugin } from '@univerjs/sheets-hyper-link';\nimport { UniverSheetsNumfmtPlugin } from '@univerjs/sheets-numfmt';\nimport { UniverSheetsNumfmtUIPlugin } from '@univerjs/sheets-numfmt-ui';\nimport { UniverSheetsSortPlugin } from '@univerjs/sheets-sort';\nimport { UniverSheetsBindingSourcePlugin } from '@univerjs/sheets-source-binding';\nimport { UniverSheetsThreadCommentPlugin } from '@univerjs/sheets-thread-comment';\nimport { UniverSheetsThreadCommentUIPlugin } from '@univerjs/sheets-thread-comment-ui';\nimport { UniverSheetsUIPlugin } from '@univerjs/sheets-ui';\nimport { UniverSheetsZenEditorPlugin } from '@univerjs/sheets-zen-editor';\nimport { UniverThreadCommentUIPlugin } from '@univerjs/thread-comment-ui';\nimport { BuiltInUIPart, UniverUIPlugin } from '@univerjs/ui';\n\nimport { enUS, faIR, frFR, ruRU, viVN, zhCN, zhTW } from '../locales';\n\nimport { ButtonRangeSelector } from './button';\nimport { UniverSheetsCustomMenuPlugin } from './custom-menu';\nimport { UniverSaveToolbarPlugin } from './save-toolbar-plugin';\nimport { UniverSavePlugin } from '../services/save-plugin';\nimport { ISaveService } from '../services/save-service';\nimport '@univerjs/sheets/facade';\nimport '@univerjs/ui/facade';\nimport '@univerjs/docs-ui/facade';\nimport '@univerjs/sheets-ui/facade';\nimport '@univerjs/sheets-data-validation/facade';\nimport '@univerjs/engine-formula/facade';\nimport '@univerjs/sheets-filter/facade';\nimport '@univerjs/sheets-formula/facade';\nimport '@univerjs/sheets-numfmt/facade';\nimport '@univerjs/sheets-hyper-link-ui/facade';\nimport '@univerjs/sheets-thread-comment/facade';\nimport '@univerjs/sheets-conditional-formatting/facade';\nimport '@univerjs/sheets-find-replace/facade';\nimport '@univerjs/sheets-drawing-ui/facade';\nimport '@univerjs/sheets-zen-editor/facade';\nimport '@univerjs/sheets-source-binding/facade';\nimport '@univerjs/sheets-crosshair-highlight/facade';\nimport '@univerjs/sheets-formula-ui/facade';\nimport '@univerjs/sheets-sort/facade';\nimport '@univerjs/network/facade';\nimport '../global.css';\nimport './styles';\n\n/* eslint-disable-next-line node/prefer-global/process */\nconst IS_E2E: boolean = !!process.env.IS_E2E;\n\nconst LOAD_LAZY_PLUGINS_TIMEOUT = 100;\nconst LOAD_VERY_LAZY_PLUGINS_TIMEOUT = 1_000;\n\nexport const mockUser = {\n    userID: 'Owner_qxVnhPbQ',\n    name: 'Owner',\n    avatar: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAInSURBVHgBtZU9TxtBEIbfWRzFSIdkikhBSqRQkJqkCKTCFkqVInSUSaT0wC8w/gXxD4gU2nRJkXQWhAZowDUUWKIwEgWWbEEB3mVmx3dn4DA2nB/ppNuPeWd29mMIPXDr+RxwtgRHeW6+guNPRxogqnL7Dwz9psJ27S4NShaeZTH3kwXy6I81dlRKcmRui88swdq9AcSFL7Buz1Vmlns64MiLsCjzwnIYHLH57tbfFbs7KRaXyEU8FVZofqccOfA5l7Q8LPIkGrwnb2RPNEXWFVMUF3L+kDCk0btDDAMzOm5YfAHDwp4tG74wnzAsiOYMnJ3GoDybA7IT98/jm5+JNnfiIzAS6LlqHQBN/i6b2t/cV1Hh6BfwYlHnHP4AXi5q/8kmMMpOs8+BixZw/Fd6xUEHEbnkgclvQP2fGp7uShRKnQ3G32rkjV1th8JhIGG7tR/JyjGteSOZELwGMmNqIIigRCLRh2OZIE6BjItdd7pCW6Uhm1zzkUtungSxwEUzNpQ+GQumtH1ej1MqgmNT6vwmhCq5yuwq56EYTbgeQUz3yvrpV1b4ok3nYJ+eYhgYmjRUqErx2EDq0Fr8FhG++iqVGqxlUJI/70Ar0UgJaWHj6hYVHJrfKssAHot1JfqwE9WVWzXZVd5z2Ws/4PnmtEjkXeKJDvxUecLbWOXH/DP6QQ4J72NS0adedp1aseBfXP8odlZFfPvBF7SN/8hky1TYuPOAXAEipMx15u5ToAAAAABJRU5ErkJggg==',\n    anonymous: false,\n    canBindAnonymous: false,\n};\n\n// eslint-disable-next-line max-lines-per-function\nfunction createNewInstance() {\n    // univer\n    const univer = new Univer({\n        theme: defaultTheme,\n        locale: LocaleType.ZH_CN,\n        locales: {\n            [LocaleType.ZH_CN]: zhCN,\n            [LocaleType.EN_US]: enUS,\n            [LocaleType.FR_FR]: frFR,\n            [LocaleType.RU_RU]: ruRU,\n            [LocaleType.ZH_TW]: zhTW,\n            [LocaleType.VI_VN]: viVN,\n            [LocaleType.FA_IR]: faIR,\n        },\n        logLevel: LogLevel.VERBOSE,\n    });\n\n    const worker = new Worker(new URL('./worker.js', import.meta.url), { type: 'module' });\n    univer.registerPlugin(UniverRPCMainThreadPlugin, { workerURL: worker });\n\n    univer.registerPlugin(UniverDocsPlugin);\n    univer.registerPlugin(UniverRenderEnginePlugin);\n    univer.registerPlugin(UniverUIPlugin, { container: 'app' });\n    univer.registerPlugin(UniverDocsUIPlugin);\n    univer.registerPlugin(UniverDocsDrawingUIPlugin);\n    univer.registerPlugin(UniverDocsMentionUIPlugin);\n\n    univer.registerPlugin(UniverSheetsPlugin, { notExecuteFormula: true });\n    univer.registerPlugin(UniverSheetsUIPlugin);\n    univer.registerPlugin(UniverSheetsNumfmtPlugin);\n    univer.registerPlugin(UniverSheetsZenEditorPlugin);\n    univer.registerPlugin(UniverFormulaEnginePlugin, { notExecuteFormula: true });\n    univer.registerPlugin(UniverSheetsNumfmtUIPlugin);\n    univer.registerPlugin(UniverSheetsFormulaPlugin, { notExecuteFormula: true });\n    univer.registerPlugin(UniverSheetsFormulaUIPlugin);\n    univer.registerPlugin(UniverSheetsDataValidationPlugin);\n    univer.registerPlugin(UniverSheetsConditionalFormattingPlugin);\n    univer.registerPlugin(UniverSheetsFilterPlugin);\n    univer.registerPlugin(UniverSheetsSortPlugin);\n    univer.registerPlugin(UniverSheetsHyperLinkPlugin);\n    univer.registerPlugin(UniverThreadCommentUIPlugin);\n    univer.registerPlugin(UniverSheetsThreadCommentPlugin);\n    univer.registerPlugin(UniverSheetsThreadCommentUIPlugin);\n    univer.registerPlugin(UniverSheetsBindingSourcePlugin);\n    univer.registerPlugin(UniverSheetsCustomMenuPlugin);\n    univer.registerPlugin(UniverNetworkPlugin);\n    \n    // \u6CE8\u518C\u4FDD\u5B58\u63D2\u4EF6\n    univer.registerPlugin(UniverSavePlugin);\n    \n    // \u6CE8\u518C\u4FDD\u5B58\u5DE5\u5177\u680F\u63D2\u4EF6\n    univer.registerPlugin(UniverSaveToolbarPlugin);\n\n    // If we are running in e2e platform, we should immediately register the debugger plugin.\n    if (IS_E2E) {\n        univer.registerPlugin(UniverDebuggerPlugin);\n    }\n\n    const injector = univer.__getInjector();\n    const userManagerService = injector.get(UserManagerService);\n    userManagerService.setCurrentUser(mockUser);\n\n    // create univer sheet instance\n    if (!IS_E2E) {\n        univer.createUnit(UniverInstanceType.UNIVER_SHEET, DEFAULT_WORKBOOK_DATA_DEMO);\n    }\n\n    // \u6DFB\u52A0\u5168\u5C40API\u7528\u4E8E\u4FDD\u5B58\u548C\u8FFD\u52A0\u6570\u636E\n    const saveService = injector.get(ISaveService);\n    \n    // @ts-ignore\n    window.univerSaveAPI = {\n        /**\n         * \u4FDD\u5B58\u5F53\u524D\u5DE5\u4F5C\u7C3F\u5230\u540E\u7AEF\n         * @param {string} name \u5DE5\u4F5C\u7C3F\u540D\u79F0 \n         * @returns {Promise<string>} \u5DE5\u4F5C\u7C3FID\n         */\n        async saveWorkbook(name) {\n            try {\n                return await saveService.saveWorkbook(name);\n            } catch (error) {\n                console.error('\u4FDD\u5B58\u5DE5\u4F5C\u7C3F\u5931\u8D25:', error);\n                throw error;\n            }\n        },\n        \n        /**\n         * \u5411\u5DE5\u4F5C\u8868\u8FFD\u52A0\u6570\u636E\n         * @param {string} workbookId \u5DE5\u4F5C\u7C3FID\n         * @param {string} sheetId \u5DE5\u4F5C\u8868ID\n         * @param {Array<Array<any>>} data \u4E8C\u7EF4\u6570\u7EC4\u6570\u636E\n         * @returns {Promise<boolean>} \u662F\u5426\u6210\u529F\n         */\n        async appendData(workbookId, sheetId, data) {\n            try {\n                return await saveService.appendData(workbookId, sheetId, data);\n            } catch (error) {\n                console.error('\u8FFD\u52A0\u6570\u636E\u5931\u8D25:', error);\n                throw error;\n            }\n        }\n    };\n    \n    console.log('===== \u4FDD\u5B58API\u5DF2\u521D\u59CB\u5316\uFF0C\u53EF\u901A\u8FC7window.univerSaveAPI\u4F7F\u7528 =====');\n    console.log('\u4F8B\u5982: await window.univerSaveAPI.saveWorkbook(\"\u6211\u7684\u5DE5\u4F5C\u7C3F\")');\n\n    setTimeout(() => {\n        import('./lazy').then((lazy) => {\n            const plugins = lazy.default();\n            plugins.forEach((p) => univer.registerPlugin(p[0], p[1]));\n        });\n    }, LOAD_LAZY_PLUGINS_TIMEOUT);\n\n    setTimeout(() => {\n        import('./very-lazy').then((lazy) => {\n            const plugins = lazy.default();\n            plugins.forEach((p) => univer.registerPlugin(p[0], p[1]));\n        });\n    }, LOAD_VERY_LAZY_PLUGINS_TIMEOUT);\n\n    univer.onDispose(() => {\n        worker.terminate();\n        window.univer = undefined;\n        window.univerAPI = undefined;\n    });\n\n    window.univer = univer;\n    window.univerAPI = FUniver.newAPI(univer);\n}\n\ncreateNewInstance();\nwindow.createNewInstance = createNewInstance;\n\ndeclare global {\n    // eslint-disable-next-line ts/naming-convention\n    interface Window {\n        univer?: Univer;\n        univerAPI?: ReturnType<typeof FUniver.newAPI>;\n        createNewInstance?: typeof createNewInstance;\n    }\n}\n\n// eslint-disable-next-line max-lines-per-function, complexity\nfunction initEvent() {\n    const logService = window.univer!.__getInjector().get(ILogService);\n\n    // Workbook Events\n    window.univerAPI?.addEvent(window.univerAPI.Event.WorkbookCreated, (params) => {\n        logService.log('===WorkbookCreated', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.WorkbookDisposed, (params) => {\n        logService.log('===WorkbookDisposed', params);\n    });\n\n    // Sheet Lifecycle Events\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetCreate, (params) => {\n        logService.log('===BeforeSheetCreate', params);\n    });\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetCreated, (params) => {\n        logService.log('===SheetCreated', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetDelete, (params) => {\n        logService.log('===BeforeSheetDelete', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetDeleted, (params) => {\n        logService.log('===SheetDeleted', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetMove, (params) => {\n        logService.log('===BeforeSheetMove', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetMoved, (params) => {\n        logService.log('===SheetMoved', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetNameChange, (params) => {\n        logService.log('===BeforeSheetNameChange', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetNameChanged, (params) => {\n        logService.log('===SheetNameChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetHideChange, (params) => {\n        logService.log('===BeforeSheetHideChange', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetHideChanged, (params) => {\n        logService.log('===SheetHideChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CellClicked, (params) => {\n        logService.log('===CellClicked', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CellHover, (params) => {\n        logService.log('===CellHover', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CellPointerDown, (params) => {\n        logService.log('===CellPointerDown', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CellPointerUp, (params) => {\n        logService.log('===CellPointerUp', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CellPointerMove, (params) => {\n        logService.log('===CellPointerMove', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SelectionChanged, (params) => {\n        logService.log('===SelectionChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SelectionMoveStart, (params) => {\n        logService.log('===SelectionMoveStart', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SelectionMoveEnd, (params) => {\n        logService.log('===SelectionMoveEnd', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SelectionMoving, (params) => {\n        logService.log('===SelectionMoving', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetEditStart, (params) => {\n        logService.log('===BeforeSheetEditStart', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetEditStarted, (params) => {\n        logService.log('===SheetEditStarted', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetEditChanging, (params) => {\n        logService.log('===SheetEditChanging', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetEditEnd, (params) => {\n        logService.log('===BeforeSheetEditEnd', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetEditEnded, (params) => {\n        logService.log('===SheetEditEnded', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetValueChanged, (params) => {\n        logService.log('===SheetValueChanged', params);\n    });\n\n    // Clipboard Events\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeClipboardChange, (params) => {\n        logService.log('===BeforeClipboardChange', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.ClipboardChanged, (params) => {\n        logService.log('===ClipboardChanged', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeClipboardPaste, (params) => {\n        logService.log('===BeforeClipboardPaste', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.ClipboardPasted, (params) => {\n        logService.log('===ClipboardPasted', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeGridlineEnableChange, (params) => {\n        logService.log('===BeforeGridlineEnableChange', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeGridlineColorChange, (params) => {\n        logService.log('===BeforeGridlineColorChange', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.GridlineChanged, (params) => {\n        logService.log('===GridlineChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetZoomChange, (params) => {\n        logService.log('===BeforeSheetZoomChange', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetZoomChanged, (params) => {\n        logService.log('===SheetZoomChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.Scroll, (params) => {\n        logService.log('===Scroll', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetSkeletonChanged, (params) => {\n        logService.log('===SheetSkeletonChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetDataValidationAdd, (params) => {\n        logService.log('===BeforeSheetDataValidationAdd', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetDataValidationChanged, (params) => {\n        logService.log('===SheetDataValidationChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetDataValidatorStatusChanged, (params) => {\n        logService.log('===SheetDataValidatorStatusChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetBeforeRangeFilter, (params) => {\n        logService.log('===SheetBeforeRangeFilter', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetRangeFiltered, (params) => {\n        logService.log('===SheetRangeFiltered', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetBeforeRangeSort, (params) => {\n        logService.log('===SheetBeforeRangeSort', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetRangeSorted, (params) => {\n        logService.log('===SheetRangeSorted', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetBeforeRangeFilterClear, (params) => {\n        logService.log('===SheetBeforeRangeFilterClear', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetRangeFilterCleared, (params) => {\n        logService.log('===SheetRangeFilterCleared', params);\n    });\n\n    // Image Events\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeOverGridImageInsert, (params) => {\n        logService.log('===BeforeOverGridImageInsert', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.OverGridImageInserted, (params) => {\n        logService.log('===OverGridImageInserted', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeOverGridImageChange, (params) => {\n        logService.log('===BeforeOverGridImageChange', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.OverGridImageChanged, (params) => {\n        logService.log('===OverGridImageChanged', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeOverGridImageRemove, (params) => {\n        logService.log('===BeforeOverGridImageRemove', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.OverGridImageRemoved, (params) => {\n        logService.log('===OverGridImageRemoved', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeOverGridImageSelect, (params) => {\n        logService.log('===BeforeOverGridImageSelect', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.OverGridImageSelected, (params) => {\n        logService.log('===OverGridImageSelected', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeCommentAdd, (params) => {\n        logService.log('===BeforeCommentAdd', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CommentAdded, (params) => {\n        logService.log('===CommentAdded', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeCommentUpdate, (params) => {\n        logService.log('===BeforeCommentUpdate', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CommentUpdated, (params) => {\n        logService.log('===CommentUpdated', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeCommentDelete, (params) => {\n        logService.log('===BeforeCommentDelete', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CommentDeleted, (params) => {\n        logService.log('===CommentDeleted', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeCommentResolve, (params) => {\n        logService.log('===BeforeCommentResolve', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CommentResolved, (params) => {\n        logService.log('===CommentResolved', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.RowHeaderClick, (params) => {\n        logService.log('===RowHeaderClick', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.RowHeaderHover, (params) => {\n        logService.log('===RowHeaderHover', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.RowHeaderPointerDown, (params) => {\n        logService.log('===RowHeaderPointerDown', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.RowHeaderPointerUp, (params) => {\n        logService.log('===RowHeaderPointerUp', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.ColumnHeaderClick, (params) => {\n        logService.log('===ColumnHeaderClick', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.ColumnHeaderHover, (params) => {\n        logService.log('===ColumnHeaderHover', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.ColumnHeaderPointerDown, (params) => {\n        logService.log('===ColumnHeaderPointerDown', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.ColumnHeaderPointerUp, (params) => {\n        logService.log('===ColumnHeaderPointerUp', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetLinkAdd, (params) => {\n        logService.log('===BeforeSheetLinkAdd', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetLinkUpdate, (params) => {\n        logService.log('===BeforeSheetLinkUpdate', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetLinkCancel, (params) => {\n        logService.log('===BeforeSheetLinkCancel', params);\n    });\n\n    // Drag and Drop Events\n    window.univerAPI?.addEvent(window.univerAPI.Event.DragOver, (params) => {\n        logService.log('===DragOver', params);\n    });\n\n    window.univerAPI?.addEvent(window.univerAPI.Event.Drop, (params) => {\n        logService.log('===Drop', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CrosshairHighlightColorChanged, (params) => {\n        logService.log('===CrosshairHighlightColorChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.CrosshairHighlightEnabledChanged, (params) => {\n        logService.log('===CrosshairHighlightEnabledChanged', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.BeforeSheetEditStart, (params) => {\n        const { row, column } = params;\n        if (row === 0 && column === 0) {\n            params.cancel = true;\n        }\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.ActiveSheetChanged, (params) => {\n        logService.log('===active sheet changed', params);\n    });\n\n    // checked\n    window.univerAPI?.addEvent(window.univerAPI.Event.SheetEditChanging, (params) => {\n        logService.log('===SheetEditChanging', params);\n    });\n}\n\n// initEvent();\nfunction initFacadeBtns() {\n    window.univerAPI?.registerUIPart(BuiltInUIPart.CUSTOM_HEADER, ButtonRangeSelector);\n}\n\n// setTimeout(() => {\n//     const active = window.univerAPI?.getActiveSheet();\n//     console.log('==active', active, window.univerAPI);\n//     if (!active) {\n//         return;\n//     }\n\n//     window.univerAPI?.showRangeSelectorDialog({\n//         unitId: active.workbook.getId(),\n//         subUnitId: active.worksheet.getSheetId(),\n//         callback: (ranges, isCancel) => {\n//             console.log('===range selector dialog result', ranges, isCancel);\n//         },\n//     });\n// }, 5000);\n"],
  "mappings": "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",
  "names": ["request", "body", "URL", "import_react", "import_react", "import_react", "element", "import_react", "element", "import_react", "import_jsx_runtime", "React"]
}
